<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>meow meow nekomimi neow</title>
    <link rel="stylesheet" href="styles.css">
    <link href="/cats/random" rel="icon" type="image/x-icon">
</head>

<body>
    <div class="floating-orbs">
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
        <div class="orb"></div>
    </div>

    <div class="sparkles">
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
    </div>

    <div class="container">
        <h1 class="glow-text">Nekomimi go meow</h1>
        <button id="get-cat" onclick="getCat()" class="glow-button">
            <span>Get Cat</span>
            <div class="button-glow"></div>
        </button>
        <div id="cats" class="cats-section">
            <h2 class="glow-text">Meow meow nyaah Gallery</h2>
            <h6>I downloaded cars</h6>
            <ul id="cat-list" class="cat-grid"></ul>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            const cats = await listCats();
            renderCats(cats);
        });

        function getCat() {
            window.open("/cats/random", "_blank");
        }

        async function listCats() {
            try {
                const response = await fetch("/cats");
                const data = await response.json();
                return data.cats;
            } catch (error) {
                console.error("Error fetching cats:", error);
                return [];
            }
        }

        function renderCats(cats) {
            for (const cat of cats) {
                renderCat(cat);
            }
        }

        function renderCat(cat) {
            const catUrl = cat.url.replace("public/", "").replace("/cats", "");
            const li = document.createElement("li");
            li.className = "cat-item";
            li.innerHTML = `<div class="cat-image-container"><a href="${catUrl}" target="_blank" style="text-decoration: none;">
<img src="${catUrl}" width="100" height="100" class="cat-image">
<div class="image-glow"></div>
            </a>
</div>`;
            document.getElementById("cat-list").appendChild(li);
        }
    </script>
</body>

</html>